# This file defines a series of classifiers, performed in order (after sorting
# the [table_names]).  Each table name consists of:
#     xy-name-acts_on
# split by "-", where:
#     - xy: is a number for sorting (lowest is applied first)
#     - name: a human-readable string
#
# In addition, every section (other than "Meta") must contain an
#     acts_on =
# key.  Its value can be:
#     - filenames: a list of strings
#     - summary: the first line of the commit message
#     - message: the full (often multi-line) commit message

[Meta]

# If we attempt to classify via filenames and the initial attempt fails,
# omit any names in this list and try again.
filenames_try_omit = [
    'UPDATING',
    'tests/.*'
]


[00-reverts]

acts_on = "message"

reverts = [
    'This reverts commit \b([0-9a-fA-F]{40})\b',
]


[01-style]

acts_on = "summary"

style = [
    '[sS]tyle',
    '[tT]ypo',
    '[wW]hitespace',
]


[02-filenames_wildcards]

acts_on = "filenames"

doc = [
    '.*\.[1-9]',
]

build = [
    '.*BSDmakefile',
    '.*Makefile',
    'release/.*',
]


[03-filenames_plain1]

acts_on = "filenames"

userland = [
    'bin/',
]

doc = [
    'RELNOTES',
    'usr.bin/man/',
    'usr.bin/mandoc/',
]

hardware = [
    "share/misc/pci_vendors",
    "share/misc/usb_vendors",
    "sys/amd64/",
    "sys/arm/",
    "sys/arm64/",
    "sys/dev/",
    "sys/i386/",
    "sys/powerpc/",
    "sys/riscv/",
    "sys/x86/",
]

network = [
    'krb5/',
    'share/sendmail/',
    'sys/net/',
    'sys/net80211/',
    'sys/netgraph/',
    'sys/netinet/',
    'sys/netinet6/',
    'sys/netipsec/',
    'sys/netlink/',
    'sys/netpfil/',
    'sys/netsmb/',
    'sys/nfs/',
    'sys/nfsclient/',
    'sys/nfsserver/',
    'usr.bin/netstat/',
    'usr.bin/sockstat/',
    'usr.sbin/ctld/',
]

admin = [
    'etc/',
    'libexec/',
    'sbin/',
    'stand/',
]

libs = [
    'lib/',
    'secure/lib/',
]

filesystems = [
    'sys/fs/',
    'sys/ufs/',
]

build = [
    '.github/workflows/',
    'Makefile',
    'share/mk/',
    'tools/build/',
]

internal = [
    '.git-blame-ignore-revs',
    'ObsoleteFiles.inc',
    'share/misc/bsd-family-tree',
    'share/misc/committers-src.dot',
]

tests = [
    'tests/',
    'tools/regression/',
    'tools/test/',
]

contrib = [
    'contrib/',
    'crypto/openssl/',
]

[04-filenames_plain2]

acts_on = "filenames"

userland = [
    'usr.bin/',
]

# Must be 2nd pass due to 'usr.sbin/ctld/'
admin = [
    'usr.sbin/',
]

# Must be 2nd pass due to 'sys/fs/'
kernel = [
    'sys/',
]


[05-summary-prefix]

acts_on = "summary"

userland = [
]

doc = [
    '^.*\.[1-9]:',
    '^UPDATING',
    '^man .*',
]

hardware = [
    '^GEOM:',
    '^moused\(8\):',
    '^udbc:',
]

network = [
    '^epair:',
    '^ip6:',
    '^pf:',
    '^sys/netinet6:',
    '^tcp:',
    '^vtnet:',
]

admin = [
    '^cpucontrol:',
    '^jail:',
    '^jaildesc:',
    '^nanobsd:',
    '^pci_user:',
    '^tty:',
]

libs = [
    '^lib.*:',
]

filesystems = [
    '^fusefs:',
    '^pseudofs:',
    '^zfs:',
    '^zfsd:',
]

kernel = [
    '^vmm:',
]

build = [
    '^bsd\..*\.mk:',
    '^packages:',
    '^release:',
    '^src\..*\.mk:',
]

internal = [
]

contrib = [
    '^OpenSSL:',
]
